<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <script src="js/jquery-3.2.0.js"></script>
    <title></title>
</head>

<body>

    <form id="myLogin">
        用户名:
        <input type="text" name="uname" />
        <br/> 密码:
        <input type="password" name="upwd" />
        <br/>
        <button id="btnLogin">登录</button>
        <button id="btnRegister">注册</button>
    </form>

    <script>
        $('#btnRegister').click(() => {
            location = "register.html";
        })
        $('#myLogin').submit((e) => {
            e.preventDefault();
        })
        $('#btnLogin').click(() => {
            //将用户名和密码发给服务器，验证是否匹配
            var result = $('#myLogin').serialize();
            $.get("http://localhost/mongoProject/server/routes/login.php?" + result)
                .then((data) => {
                    console.log(data);
                    if (data.ok == 1) {
                        // 直接修改location
                        location = "index.html"
                    }
                    else {
                        alert(data.msg);
                    }
                })
        })
    </script>

</body>

</html>